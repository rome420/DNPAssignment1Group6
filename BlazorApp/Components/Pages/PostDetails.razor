@page "/post/{postId}"
@using DTO
@inject HttpClient Http

<h3>@post?.Title</h3>
@if (post == null)
{
<p>Loading...</p>
}
else
{
<p>@post.Body</p>

<h4>Author</h4>
@if (!string.IsNullOrEmpty(post.Author))
{
<p>@post.Author</p>  <!-- Display Author as a string -->
}
else
{
<p>Author not available</p>
}

<h4>Comments</h4>
<ul>
    @foreach (var comment in post.Comments)
    {
    <li>@comment.Content</li>
    }
</ul>
}

@code {
[Parameter]
public int postId { get; set; }  // The postId parameter from the URL

private PostDto? post;  // The post object to be displayed

protected override async Task OnInitializedAsync()
{
post = await Http.GetFromJsonAsync<PostDto>($"https://localhost:5126/api/posts/{postId}");  // Replace with your API endpoint
}
}
